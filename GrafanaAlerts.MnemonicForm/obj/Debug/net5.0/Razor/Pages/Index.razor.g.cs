#pragma checksum "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor" "{ff1816ec-aa5e-4d10-87f7-6f4963833460}" "37644d4b6a68b9bfbcea9e66d2ccaa4c13134e28"
// <auto-generated/>
#pragma warning disable 1591
namespace GrafanaAlerts.MnemonicForm.Pages
{
    #line hidden
    using System;
    using System.Collections.Generic;
    using System.Linq;
    using System.Threading.Tasks;
    using Microsoft.AspNetCore.Components;
#nullable restore
#line 1 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/_Imports.razor"
using System.Net.Http;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/_Imports.razor"
using Microsoft.AspNetCore.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/_Imports.razor"
using Microsoft.AspNetCore.Components.Authorization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/_Imports.razor"
using Microsoft.AspNetCore.Components.Forms;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/_Imports.razor"
using Microsoft.AspNetCore.Components.Routing;

#line default
#line hidden
#nullable disable
#nullable restore
#line 6 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/_Imports.razor"
using Microsoft.AspNetCore.Components.Web;

#line default
#line hidden
#nullable disable
#nullable restore
#line 7 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/_Imports.razor"
using Microsoft.AspNetCore.Components.Web.Virtualization;

#line default
#line hidden
#nullable disable
#nullable restore
#line 8 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/_Imports.razor"
using Microsoft.JSInterop;

#line default
#line hidden
#nullable disable
#nullable restore
#line 9 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/_Imports.razor"
using GrafanaAlerts.MnemonicForm;

#line default
#line hidden
#nullable disable
#nullable restore
#line 10 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/_Imports.razor"
using GrafanaAlerts.MnemonicForm.Shared;

#line default
#line hidden
#nullable disable
#nullable restore
#line 2 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
using GrafanaAlerts.MnemonicForm.Repositories;

#line default
#line hidden
#nullable disable
#nullable restore
#line 3 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
using GrafanaAlerts.MnemonicForm.DTO;

#line default
#line hidden
#nullable disable
#nullable restore
#line 4 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
using System.Text.Json;

#line default
#line hidden
#nullable disable
#nullable restore
#line 5 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
using Newtonsoft.Json;

#line default
#line hidden
#nullable disable
    [Microsoft.AspNetCore.Components.RouteAttribute("/")]
    public partial class Index : Microsoft.AspNetCore.Components.ComponentBase
    {
        #pragma warning disable 1998
        protected override void BuildRenderTree(Microsoft.AspNetCore.Components.Rendering.RenderTreeBuilder __builder)
        {
            __builder.OpenElement(0, "div");
            __builder.AddAttribute(1, "class", "container");
            __builder.AddAttribute(2, "style", "height: 300px;");
            __builder.AddMarkupContent(3, "<div class><h1>Костыль</h1></div>\n    ");
            __builder.AddMarkupContent(4, "<p>Тут вы сможете выбрать мнемоники без боли</p>");
#nullable restore
#line 11 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
     if (!string.IsNullOrEmpty(Ke)){

#line default
#line hidden
#nullable disable
            __builder.OpenElement(5, "p");
            __builder.AddMarkupContent(6, "Выбранная КЕ: ");
            __builder.AddContent(7, 
#nullable restore
#line 11 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                                                      Ke

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 11 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                                                            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 12 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
     if (!string.IsNullOrEmpty(InitiatorType)){

#line default
#line hidden
#nullable disable
            __builder.OpenElement(8, "p");
            __builder.AddMarkupContent(9, "Тип заводящего: ");
            __builder.AddContent(10, 
#nullable restore
#line 12 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                                                                   InitiatorType

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 12 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                                                                                    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 13 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
     if (!string.IsNullOrEmpty(InitiatorRole)){

#line default
#line hidden
#nullable disable
            __builder.OpenElement(11, "p");
            __builder.AddMarkupContent(12, "Роль заводящего: ");
            __builder.AddContent(13, 
#nullable restore
#line 13 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                                                                    InitiatorRole

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 13 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                                                                                     }

#line default
#line hidden
#nullable disable
#nullable restore
#line 14 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
     if (!string.IsNullOrEmpty(ResponseRole)){

#line default
#line hidden
#nullable disable
            __builder.OpenElement(14, "p");
            __builder.AddMarkupContent(15, "Роль ответственного: ");
            __builder.AddContent(16, 
#nullable restore
#line 14 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                                                                       ResponseRole

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 14 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                                                                                       }

#line default
#line hidden
#nullable disable
#nullable restore
#line 15 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
     if (!string.IsNullOrEmpty(Priority)){

#line default
#line hidden
#nullable disable
            __builder.OpenElement(17, "p");
            __builder.AddMarkupContent(18, "Приоритет: ");
            __builder.AddContent(19, 
#nullable restore
#line 15 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                                                         Priority

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 15 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                                                                     }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
            __builder.AddMarkupContent(20, "\n\n");
            __builder.OpenElement(21, "div");
            __builder.AddAttribute(22, "class", "container justify-content-center align-items-center d-flex");
            __builder.AddAttribute(23, "style", "margin-top: 10%");
            __builder.OpenElement(24, "p");
            __builder.AddAttribute(25, "style", "padding-right: 5em; padding-top: 1em;");
            __builder.AddContent(26, 
#nullable restore
#line 19 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                                                      Message

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 21 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
     if (Mnemonics.Count > 0 && Step == 1)
    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(27, "select");
            __builder.AddAttribute(28, "id", "ke");
            __builder.AddAttribute(29, "class", "selectpicker");
            __builder.AddAttribute(30, "data-live-search", "true");
            __builder.AddAttribute(31, "style", "background-color: #3C3C3C !important;");
            __builder.OpenElement(32, "option");
            __builder.AddAttribute(33, "style", "background-color: #3C3C3C !important;");
            __builder.AddMarkupContent(34, "Ничего не выбрано");
            __builder.CloseElement();
#nullable restore
#line 25 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
             foreach (var option in Mnemonics)
            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(35, "option");
            __builder.AddAttribute(36, "data-tokens", 
#nullable restore
#line 27 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                                      option

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(37, "style", "background-color: #3C3C3C !important;");
            __builder.AddContent(38, 
#nullable restore
#line 27 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                                                                                             option

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 28 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
            }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
#nullable restore
#line 30 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
    }

#line default
#line hidden
#nullable disable
#nullable restore
#line 31 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
     if (Mnemonics.Count > 0 && Step == 2)
                {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(39, "select");
            __builder.AddAttribute(40, "id", "initTypes");
            __builder.AddAttribute(41, "class", "selectpicker");
            __builder.AddAttribute(42, "data-live-search", "true");
            __builder.AddAttribute(43, "style", "background-color: #3C3C3C !important;");
            __builder.OpenElement(44, "option");
            __builder.AddAttribute(45, "style", "background-color: #3C3C3C !important;");
            __builder.AddMarkupContent(46, "Ничего не выбрано");
            __builder.CloseElement();
#nullable restore
#line 35 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                         foreach (var option in Mnemonics)
                        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(47, "option");
            __builder.AddAttribute(48, "data-tokens", 
#nullable restore
#line 37 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                                                  option

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(49, "style", "background-color: #3C3C3C !important;");
            __builder.AddContent(50, 
#nullable restore
#line 37 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                                                                                                         option

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 38 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
#nullable restore
#line 40 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 41 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
     if (Mnemonics.Count > 0 && Step == 3)
        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(51, "select");
            __builder.AddAttribute(52, "id", "initRoles");
            __builder.AddAttribute(53, "class", "selectpicker");
            __builder.AddAttribute(54, "data-live-search", "true");
            __builder.AddAttribute(55, "style", "background-color: #3C3C3C !important;");
            __builder.OpenElement(56, "option");
            __builder.AddAttribute(57, "style", "background-color: #3C3C3C !important;");
            __builder.AddMarkupContent(58, "Ничего не выбрано");
            __builder.CloseElement();
#nullable restore
#line 45 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                 foreach (var option in Mnemonics)
                {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(59, "option");
            __builder.AddAttribute(60, "data-tokens", 
#nullable restore
#line 47 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                                          option

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(61, "style", "background-color: #3C3C3C !important;");
            __builder.AddContent(62, 
#nullable restore
#line 47 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                                                                                                 option

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 48 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
#nullable restore
#line 50 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
        }

#line default
#line hidden
#nullable disable
#nullable restore
#line 51 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
     if (Mnemonics.Count > 0 && Step == 4)
            {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(63, "select");
            __builder.AddAttribute(64, "id", "responseRoles");
            __builder.AddAttribute(65, "class", "selectpicker");
            __builder.AddAttribute(66, "data-live-search", "true");
            __builder.AddAttribute(67, "style", "background-color: #3C3C3C !important;");
            __builder.OpenElement(68, "option");
            __builder.AddAttribute(69, "style", "background-color: #3C3C3C !important;");
            __builder.AddMarkupContent(70, "Ничего не выбрано");
            __builder.CloseElement();
#nullable restore
#line 55 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                     foreach (var option in Mnemonics)
                    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(71, "option");
            __builder.AddAttribute(72, "data-tokens", 
#nullable restore
#line 57 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                                              option

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(73, "style", "background-color: #3C3C3C !important;");
            __builder.AddContent(74, 
#nullable restore
#line 57 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                                                                                                     option

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 58 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
#nullable restore
#line 60 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
            }

#line default
#line hidden
#nullable disable
#nullable restore
#line 61 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
     if (Mnemonics.Count > 0 && Step == 5)
                {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(75, "select");
            __builder.AddAttribute(76, "id", "priorities");
            __builder.AddAttribute(77, "class", "selectpicker");
            __builder.AddAttribute(78, "data-live-search", "true");
            __builder.AddAttribute(79, "style", "background-color: #3C3C3C !important;");
            __builder.OpenElement(80, "option");
            __builder.AddAttribute(81, "style", "background-color: #3C3C3C !important;");
            __builder.AddMarkupContent(82, "Ничего не выбрано");
            __builder.CloseElement();
#nullable restore
#line 65 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                         foreach (var option in Mnemonics)
                        {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(83, "option");
            __builder.AddAttribute(84, "data-tokens", 
#nullable restore
#line 67 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                                                  option

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(85, "style", "background-color: #3C3C3C !important;");
            __builder.AddContent(86, 
#nullable restore
#line 67 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                                                                                                         option

#line default
#line hidden
#nullable disable
            );
            __builder.CloseElement();
#nullable restore
#line 68 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                        }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
#nullable restore
#line 70 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                }

#line default
#line hidden
#nullable disable
#nullable restore
#line 71 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
     if (Step == 6 && TroubleInfo != null)
    {

#line default
#line hidden
#nullable disable
            __builder.OpenElement(87, "input");
            __builder.AddAttribute(88, "type", "text");
            __builder.AddAttribute(89, "value", 
#nullable restore
#line 73 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
                                   JsonConvert.SerializeObject(TroubleInfo, Formatting.None)

#line default
#line hidden
#nullable disable
            );
            __builder.AddAttribute(90, "readonly");
            __builder.CloseElement();
#nullable restore
#line 74 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
    }

#line default
#line hidden
#nullable disable
            __builder.CloseElement();
        }
        #pragma warning restore 1998
#nullable restore
#line 78 "/Users/tipalol/RiderProjects/GrafanaAlerts/GrafanaAlerts.MnemonicForm/Pages/Index.razor"
       
    // inject jsruntime to call javascript code
    [Inject] public IJSRuntime JSRuntime { get; set; }

    // hold the callback selected value
    public string SelectedValue { get; set; }
    
    public int Step { get; set; }

    public string Message { get; set; } = "Выберите КЕ из списка";

    public List<string> Mnemonics { get; set; } = new();
    public string Ke { get; set; }
    public string InitiatorType { get; set; }
    public string InitiatorRole { get; set; }
    public string ResponseRole { get; set; }
    public string Priority { get; set; }
    
    public List<AppDTO> Apps { get; set; }
    public List<RoleDTO> Roles { get; set; }

    public TroubleInfoDTO TroubleInfo;

    // call the javascript method to init the select picker
    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender) // only needs to be called once per page render
        {
            Step = 1;
            Apps = _mnemonicsRepository.LoadKe();
            Mnemonics = (from app in Apps select app.Name).ToList();
            StateHasChanged();
            await JSRuntime.InvokeVoidAsync("InitSelectPicker", DotNetObjectReference.Create(this), "OnSelectedValue", "#ke");
            StateHasChanged();
        }
    }

    // method which will be triggered by javascript, need to pass the method name 
    [JSInvokable]
    public async void OnSelectedValue(string val)
    {
        SelectedValue = val;
        if (SelectedValue.Contains("Ничего")) return;
        switch (Step)
        {
            case 1:
                Ke = val;
                Mnemonics = _mnemonicsRepository.LoadInitiatorTypes();
                Step++;
                Message = "Выберите тип заводящего инцидент";
                await JSRuntime.InvokeVoidAsync("DestroySelectPicker", "#ke");
                StateHasChanged();
                await JSRuntime.InvokeVoidAsync("InitSelectPicker", DotNetObjectReference.Create(this), "OnSelectedValue", "#initTypes");
                StateHasChanged();
                break;
            case 2:
                InitiatorType = val;
                Roles = _mnemonicsRepository.LoadRoles();
                Mnemonics = (from role in Roles select role.Name).ToList();
                Step++;
                Message = "Выберите роль заводящего инцидент";
                await JSRuntime.InvokeVoidAsync("DestroySelectPicker", "#initTypes");
                StateHasChanged();
                await JSRuntime.InvokeVoidAsync("InitSelectPicker", DotNetObjectReference.Create(this), "OnSelectedValue", "#initRoles");
                StateHasChanged();
                break;
            case 3:
                InitiatorRole = val;
                Mnemonics = (from role in Roles select role.Name).ToList();
                Step++;
                Message = "Выберите роль ответственного";
                await JSRuntime.InvokeVoidAsync("DestroySelectPicker", "#initRoles");
                StateHasChanged();
                await JSRuntime.InvokeVoidAsync("InitSelectPicker", DotNetObjectReference.Create(this), "OnSelectedValue", "#responseRoles");
                StateHasChanged();
                break;
            case 4:
                ResponseRole = val;
                Mnemonics = _mnemonicsRepository.LoadPriorities();
                Step++;
                Message = "Выберите приоритет";
                await JSRuntime.InvokeVoidAsync("DestroySelectPicker", "#responseRoles");
                StateHasChanged();
                await JSRuntime.InvokeVoidAsync("InitSelectPicker", DotNetObjectReference.Create(this), "OnSelectedValue", "#priorities");
                StateHasChanged();
                break;
            case 5:
                Priority = val;
                Step++;
                Message = "Спасибо! Код алерта: ";
                TroubleInfo = new TroubleInfoDTO()
                {
                    Ke = (from app in Apps where app.Name == Ke select app.Mnemonics).First(),
                    InitiatorType = InitiatorType,
                    InitiatorRole = (from role in Roles where role.Name == InitiatorRole select role.Code).First(),
                    ResponseRole = (from role in Roles where role.Name == ResponseRole select role.Code).First(),
                    Priority = Priority
                };
                await JSRuntime.InvokeVoidAsync("DestroySelectPicker", "#priorities");
                StateHasChanged();
                break;
        }
        StateHasChanged();
    }

#line default
#line hidden
#nullable disable
        [global::Microsoft.AspNetCore.Components.InjectAttribute] private IMnemonicsRepository _mnemonicsRepository { get; set; }
    }
}
#pragma warning restore 1591
